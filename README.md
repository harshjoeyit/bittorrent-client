Trying to implement a bittorrent client